<!DOCTYPE html>
<html lang="en">
<head>
    <title>Resilience Story of New York</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="Resilience New York"/>
    <meta property="og:url" content="http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html"/>
    <meta property="og:description" content="Resilience Storymap."/>
    <meta property="og:image" content="../../img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">

    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <!-- add a favicon of NY big apple from website https://favicon.io/favicon-converter/-->

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/storymap.2.5.css">

    <!--add required libraries-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/Control.GlobeMiniMap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.5.js"></script>
</head>
<body>

<!--Navigations,container,and button -->
<nav class="navbar navbar-expand-lg bg-dark navbar-dark sticky-top">
  <a class="navbar-brand" href="New-York.png">
   <img src="img/New-York.png" alt="Logo" style="width:35px;">NYS</a>
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="description.html">Description</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="contact.html">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- Create Storymap -->
<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">

            <section data-scene="overview" data-background="img/nyvintage.mp4">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center">Resilience Story of New York</h1>
                    <strong class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This is the resilience story of New York State
                      in the face of COVID-19 pandemic
                    </strong>
                </div>
            </section>

            <section data-scene="cases">
              <h2><b>New York Today: The Pandemic</b></h2>
              <p>The coronavirus spread in the U.S. since March 2020 had drastically changed the way people live their lives. New York, specifically the NYC is the epicenter of the Pandemic in the U.S.
              Until May 15, 2020, the confirmed cases in New York State has reached about ..... and .... deaths. Compared to other states, the rapid spread of the virus in NY clearly signaled an urgent call of taking extreme measures, similar
              to what China and South Korea had done: lockdown and social distancing The independent expert maintained that people in poverty are disproportionately threatened by the coronavirus.
              “They are more likely to work in jobs with a high risk of exposure, live in crowded and insecure housing, reside in neighbourhoods that are more vulnerable because of air pollution,
              and lack access to healthcare”, he said.“Communities of colour, who face a persistent racial wealth gap, are at particular risk and are dying at much higher rates.”
              Additionally, the poor have fewer resources to cushion economic blows and are more susceptible to mass layoffs and pay cuts. </p>
              <img src="img/NYC_compare.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="Compared to other states">
              <p style="text-align:center;"><a href="https://untappedcities.com/2016/06/24/lost-in-old-new-york-vintage-photos-from-the-museum-of-the-city-of-new-york/">Countesy of Untapped Cities</a></p>
              <br>
              <p>The fines for people not allowing the governor's executive order was between $500 and $ 1,000. The New York Governor stated that people did not take the order serioulsly</p>
              <img src="img/covid_patient.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="Stucked with Coronavirus">
              <p style="text-align:center;"><a href="https://untappedcities.com/2016/06/24/lost-in-old-new-york-vintage-photos-from-the-museum-of-the-city-of-new-york/">Countesy of MCNY</a></p>
              <p>People shared their personal stories in the face of the pandemic and asked one to another: "What's Your Quarantine Routine?" Others expressed their feelings through sketches.</p>
              <img src="img/NYC_Adinatudor_sketch.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="Stucked with Coronavirus">
              <p style="text-align:center;"><a href="https://www.nytimes.com/2020/03/30/us/coronavirus-world-news-updates.html">Countesy of NY Times</a></p>
            </section>

            <section data-scene="income">
                <h2><b>396-Year Old New York</b></h2>
                <p>New York was once named New Amsterdam, given by the Dutch who colonized this area along the Hudson River in 1624. It is under the reign of
                British Empire 40 years later that the name turned into New York. The New York State had significant role in American Revolution and long been a
                magnet for immigrants worldwide to work and reside. New York City is the largest city in the state and a home for nearly 20 million people.</p>
                <img src="img/NYC_vintage.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="Old New York">
                <p style="text-align:center;"><a href="https://untappedcities.com/2016/06/24/lost-in-old-new-york-vintage-photos-from-the-museum-of-the-city-of-new-york/">Countesy of MCNY</a></p>
                <br>
                <p>The state has 62 counties which are divided into about 1,500 towns and villages. Compared to other county governments, New Yowk relatively has a stronger governance with
                  many special districts and infrastructures like port, bridge, health, and regional market. The Port Authority is one of the largest special districts operating harbors and related facilities throughout New York City and New Jersey.</p>
                <img src="img/NYC_night2.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image"alt-text="NYC at midgnight">
                <p style="text-align:center;"><a href="https://www.pinterest.com/pin/171629435785355627">Countesy of PhotoMagazine</a></p>
                <br>
                <p>Being one of the wealthiest states in the USA does not mean that New York State does not struggle with issue of homelessness and poverty.
                  Leading the nation with the greatest divide between the wealthiest 1 percent of residents and the other 99 percent was New York state, according to the report by the Economic Policy Institute, a left-leaning think tank in Washington, D.C.
                  The average income of the top 1 percent in New York state was $2.2 million in 2015, while the average income of the bottom 99 percent was $49,617. The economy inequity is also associated with ethnicity and race. The map shows the Median
                  household income level throughout the U.S. states in 2020.</p>
                <img src="img/NY_poverty.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image"alt-text="NYC at midgnight">
                <p style="text-align:center;"><a href="https://theneworleanstribune.com/what-others-are-saying-homelessness-crisis-we-are-better-than-this/">Countesy of Julianne Malveaux</a></p>
            </section>


            <section data-scene="distancing">
                <h2><b>Government's Pause Order</b></h2>
                <p>On march 22, 2020, Governor Cuomo announced the New York State on PAUSE executive order which consists of 10-point policies to prevent the spread. The maximum fine of
                the state's pysical distancing protocol is $1,000. </p>
                <img src="img/NY_governor.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="outrage">
                <p style="text-align:center;"><a href="https://www.forbes.com/sites/sergeiklebnikov/2020/04/07/new-york-sees-highest-daily-death-toll-but-cuomo-insists-social-distancing-is-working/#3c1fb5459989">Countesy of Forbes</a></p>
            </section>

            <section data-scene="usaguns">
                <h2><b>Public Outrage</b></h2>
                <p>Citizens of New York State have diffeent responses to this policy. In NYC for instance, a great number of people flocked to parks, disobeying the social distancing order. This raises
                questions of how the government would enforce the stay-at-home policies. Protests taken place throughout the U.S including NYS, criticizing the government's rule of lockdown as it will
                create more economic problem and unemployment</p>
                <img src="img/NY_protests.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="outrage">
                <p style="text-align:center;"><a href="https://www.axios.com/coronavirus-protest-social-distancing-1bc7fb5a-b94c-471e-adf2-c50bfad4f242.html">Countesy of Axios</a></p>
                At least nine shootings took place as government released the social distancing and statewide lockdown in March 2020. The incidents have caused at least 4 dead victims and 7 injured
                The map shows the distribution of registered guns throughout the U.S. which among other factors, indicates the high potentials of such violence to re-occur during this uncertain time.
                <img src="img/NY_protest_guns.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="outrage">
                <p style="text-align:center;"><a href="https://www.latimes.com/opinion/story/2020-04-17/column-gun-toting-republicans-ignoring-quarantine-orders-yes-even-coronavirus-has-become-part-of-the-culture-wars">Countesy of LA Times</a></p>
                <br>
            </section>

            <section data-scene="food">
                <h2><b>Solidarity</b></h2>
                <p>People are called to volunteer in this difficult and uncertain condition in New York. The map shows some of almost 150 food pantries that voluntarily provides
                  people with free food during the pandemic. Most of the pantries are organized by church and ethnicity-based institutions, and surprisingly, relied on retired seniors.
                  Since they can no longer safely leave their homes, the food pantry and kitchen are today run by young volunteers.
              </p>
                <img src="img/NY_volunteer1.jpg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="farmer">
                <p style="text-align:center;"><a href="https://www.nytimes.com/2020/04/08/business/economy/coronavirus-food-banks.html">Countesy of New York Times</a></p>
                <p>Besides foods, many organizations are now opening their doors to welcome homeless by providing them with shelters, transitional housing
                and services. These organizations normally required the homeless people to show their ID or proof of residence. One of these organizations is located on Winchester Blvd.</p>
                <img src="img/NY_volunteer2.jpeg" width="500px" height="300px" class="img-responsive img-thumbnail" alt="responsive image" alt-text="farmer">
                <p style="text-align:center;"><a href="https://www.cnbc.com/2020/04/25/making-sense-of-a-stock-market-just-16percent-off-its-high-while-a-pandemic-costs-26-million-jobs.html">Countesy of New York Times</a></p>
            </section>

            <section data-scene="embrace" data-background="img/NY_worktogether.jpg">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center"></h1>
                </div>
            </section>

            <section data-scene="end" data-background="img/NY_worktogether.jpg">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center" style="background:black">Let's Embrace the New Normal</h1>
                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This prokect is dedicated foremostly for all the frontliners who unrestlessly fight
                      against the pandemic spread and the New York state's citizens who will prove their resistance to the pandemic through social acts and contributions.
                    </small>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>

    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-github btn" href="https://github.com/jakobzhao/storymap" style="top:60px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fas fa-info-circle btn" style="top:80px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of resilience story of New York, which is a part of final project of GEOG 458
                      at the University of Washington,Seattle</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.5 | MIT License </p>
                    <p><b>Author: Catharina Depari</b> | University of Washington | Seattle
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">

  // create legend

    var income_legend = '<i style="background:red ; opacity: 0.6"></i><p><b>income level</b></p>';
    var usaguns_legend = '<i style="background: green; opacity: 0.6"></i><p><b>crime level</b></p>';

  //create Twitter icon for distancing layer
    var myIcon = L.icon({
      iconUrl: 'img/twitter.png',
      iconSize: [20, 20],
      iconAnchor: [22, 94]
    });

    //create color for cases layer
    function getColor(d) {
      return d > 1000 ? '#800026' :
          d > 500  ? '#BD0026' :
          d > 200  ? '#E31A1C' :
          d > 100  ? '#FC4E2A' :
          d > 50   ? '#FD8D3C' :
          d > 20   ? '#FEB24C' :
          d > 10   ? '#FED976' :
                '#FFEDA0';
            }
      // Set style function that sets fill color.md
      function style(feature) {
          return {
              fillColor: getColor(feature.properties.cases),
              fillOpacity: 0.6,
              weight: 1,
              dashArray: '',
              opacity: 1,
              color: 'white'
          };
      }
        var cases_legend = L.control({position: 'bottomright'});
        cases_legend.onAdd = function () {
          var div = L.DomUtil.create('div', 'cases_legend'),
            grades = [0, 10, 20, 50, 100, 200, 500, 1000],
            labels = [],
            from, to;
          for (var i = 0; i < grades.length; i++) {
            from = grades[i];
            to = grades[i + 1];
            labels.push(
              '<i style="background:' + getColor(from + 1) + '"></i> ' +
              from + (to ? '&ndash;' + to : '+'));
          }
          div.innerHTML = labels.join('<br>');
          return div;

        };

    // create layers
    // layer 1. income
    var layers = {
      income: {
        layer: L.geoJson.ajax('assets/nysmhi.geojson', {
          style: function(feature) {
            switch (feature.properties.nysmhi_mhi) {
              case '<1700': return {color: "#edf8fb"};
              case '1700-2500': return {color: "#b3cde3"};
              case '2500-3300': return {color: "#8c96c6"};
              case '3300-4100': return {color: "#8856a7"};
              case '>4100': return {color: "#810f7c"};
            }
          },
         onEachFeature: function (feature, layer) {
           layer.bindPopup("<p><b>County</p></b>" + feature.properties.County + " " +"<p><b>Income</p></b>" + feature.properties.nysmhi_mhi,
             {sticky: true, className: "feature-label", permanent: false, direction: "center"});
           },
           color: '#ff3831',
           weight: 1,
           opacity: 0.9,
         })
       },

    //layer 2. cases
    cases: {
      layer: L.geoJson.ajax('assets/nycases.geojson', {
        style: style,
        onEachFeature: function (feature, layer) {
          layer.bindPopup("<h6><b>county:</h6></b>" + feature.properties.NAME + " " +"<h6><b>cases:</h6></b>" + feature.properties.cases
          + " " + "<h6><b>tested:</h6></b>" + feature.properties.test,
          {sticky: false, className: "feature-label", permanent: false, offset: [-1, -1]});
        }
    }), legend: cases_legend
  },

    //layer 3. usaguns
    usaguns: {
      layer: L.geoJson.ajax('assets/usaguns.geojson', {
        style: function(feature) {
          var fillColor,
          density = feature.properties.reggun_reg;
          if (density > 100000) {return {color: '#64598b'}
          } else if (density > 800000) {return {color: '#9d7092'}
          } else if (density > 40000) {return {color: '#b3849b'}
          } else if (density > 20000) {return {color: '#c695a4	'}
          } else if (density > 10000) {return {color:'#d7a4af'}
          } else if (density > 5000) {return {color: '#deb4ba	'}
          } else if (density > 2500) {return {color: '#e3c4c6'}
          } else {return {color: '#e9d3d3'}
        }
      },
        onEachFeature: function (feature, layer) {
          layer.bindPopup("<h6><b>County:</b></h6>" + feature.properties.name + " " +"<h6><b>Registered Guns:</b></h6>" + feature.properties.reg,
          {sticky: true, className: "feature-label", permanent: false, direction: "center"});
        },
      }),
    },

    //layer 4. distancing
    distancing: {
      layer:  L.geoJson.ajax('assets/twitter.geojson', {
        pointToLayer: function (feature, latlng) {
          return L.marker(latlng, {icon: myIcon})
        },
      }),
    },

    //layer 5. food
    pantry: {
      layer: L.geoJson.ajax('assets/food.geojson', {
        onEachFeature: function (feature, layer) {
            layer.bindPopup("<h3>food pantry</h3>" + feature.properties.text);
        },
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: L.divIcon({className: 'fas fa-hand-holding-heart fa-2x'})});
        },
      }),
    },

    //layer 6. masks
    mask: {
      layer: L.geoJson.ajax('assets/masks.geojson', {
        onEachFeature: function (feature, layer) {
            layer.bindPopup("<h3>face covering</h3>" + feature.properties.text);
        },
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: L.divIcon({className: 'fas fa-thumbtack fa-2x'})});
        },
      }),
    },

   //layer 7. ANTIQUE MAP
    antique: {
      layer: L.tileLayer('https://cartocdn_{s}.global.ssl.fastly.net/base-antique/{z}/{x}/{y}.png')
    },

    // Basemap
    cartodb_light: {
      layer: L.tileLayer('http://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
        attribution: "Generated by QMetaTiles",
        detectRetina: true,
        tileSize: 512,
        zoomOffset: -1
      })
    }
  };

    var scenes = {
        overview: {lat:42.541, lng: -75.291, zoom: 7, name: 'Cover Page', layers: []},
        income: {lat:42.541, lng: -75.291, zoom: 5.5, maxZoom: 14, minZoom: 2, name: 'income', layers: [layers.income]}, // income level, scale : NYS
        cases: {lat:42.541, lng: -75.291, zoom: 5.5, name: 'cases', layers: [layers.cases]}, //cases of covid, scale: NYS
        distancing: {lat:42.541, lng: -75.291, zoom: 5.5, name: 'distancing', layers: [layers.distancing]}, //tweets scale: NYS
        usaguns: {lat:42.541, lng: -75.291, zoom: 3, name: 'usaguns', layers: [layers.usaguns]}, // protests, USA
        food: {lat:40.848, lng: -73.864, zoom: 12.5, name: 'food', layers: [layers.pantry, layers.mask, layers.income]}, // food, scale: Bronx, NYC
        end: {lat:42.541, lng: -75.291, zoom: 7, name: 'New Normal'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.cartodb_light,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        legend: true,
        scalebar: false,
        flyo: true,
        scrolldown: true,
        progressline: true,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {
                zoomControl: false,
                scrollWheelZoom: false,
                fadeAnimation: true,
                zoomAnimation: true,
                gestureHandling: 'cooperative'
            }).setView([44, -120], 7);



//HAPUS REDIT DI BAWAH

// var map = L.map('map').setView([37.8, -96], 4);
//
//
// L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
//   maxZoom: 18,
//   attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
//     '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
//     'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
//   id: 'mapbox.light'
// }).addTo(map);
//
//
// // control that shows state info on hover
// var info = L.control();
//
// info.onAdd = function (map) {
//   this._div = L.DomUtil.create('div', 'info');
//   this.update();
//   return this._div;
// };
//
// info.update = function (props) {
//   this._div.innerHTML = '<h4>US Population Density</h4>' +  (feature.properties.cases');
// };
//
// info.addTo(map);
//
//
// // get color depending on population density value
// function getColor(d) {
//   return d > 1000 ? '#800026' :
//       d > 500  ? '#BD0026' :
//       d > 200  ? '#E31A1C' :
//       d > 100  ? '#FC4E2A' :
//       d > 50   ? '#FD8D3C' :
//       d > 20   ? '#FEB24C' :
//       d > 10   ? '#FED976' :
//             '#FFEDA0';
// }
//
// function style(feature) {
//   return {
//     weight: 2,
//     opacity: 1,
//     color: 'white',
//     dashArray: '3',
//     fillOpacity: 0.7,
//     fillColor: getColor(feature.properties.density)
//   };
// }
//
// function highlightFeature(e) {
//   var layer = e.target;
//
//   layer.setStyle({
//     weight: 5,
//     color: '#666',
//     dashArray: '',
//     fillOpacity: 0.7
//   });
//
//   if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
//     layer.bringToFront();
//   }
//
//   info.update(layer.feature.properties);
// }
//
// var geojson;
//
// function resetHighlight(e) {
//   geojson.resetStyle(e.target);
//   info.update();
// }
//
// function zoomToFeature(e) {
//   map.fitBounds(e.target.getBounds());
// }
//
// function onEachFeature(feature, layer) {
//   layer.on({
//     mouseover: highlightFeature,
//     mouseout: resetHighlight,
//     click: zoomToFeature
//   });
// }
//
// geojson = L.geoJson(statesData, {
//   style: style,
//   onEachFeature: onEachFeature
// }).addTo(map);
//
// map.attributionControl.addAttribution('Population data &copy; <a href="http://census.gov/">US Census Bureau</a>');
//
//
// var legend = L.control({position: 'bottomright'});
//
// legend.onAdd = function (map) {
//
//   var div = L.DomUtil.create('div', 'info legend'),
//     grades = [0, 10, 20, 50, 100, 200, 500, 1000],
//     labels = [],
//     from, to;
//
//   for (var i = 0; i < grades.length; i++) {
//     from = grades[i];
//     to = grades[i + 1];
//
//     labels.push(
//       '<i style="background:' + getColor(from + 1) + '"></i> ' +
//       from + (to ? '&ndash;' + to : '+'));
//   }
//
//   div.innerHTML = labels.join('<br>');
//   return div;
// };
//
// legend.addTo(map);
//sampai isini

            // add an miniglobe
            var miniglobe = new L.Control.GlobeMiniMap({
              marker: 'red',
              position: 'bottomright',
              topojsonSrc: 'js/world.json',
              attribution: 'Chris Whong'
              // https://github.com/chriswhong/leaflet-globeminimap/blob/master/example/index.html

            }).addTo(map);

            //add zoom control with your options
            L.control.zoom({
              position:'topright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>
